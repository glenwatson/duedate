<!DOCTYPE html>
<html lang="en">
    <head>

        <title>duedate</title>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
        <script src="duedate.js"></script>
        <script src="controller.js"></script>
        <script src="https://apis.google.com/js/client.js?onload=checkAuth"></script>

    </head>
    <body>

        <div class="container">
            <div class="page-header">
                <h1>duedate</h1>
            </div>

            <div id="authorize-div" style="display: none">
                <span>Authorize access to Google Tasks API</span>
                <button id="authorize-button" onclick="duedate.handleAuthClick(event)">Authorize</button>
            </div>

            <div id="app-div" style="display: none" ng-controller="tasklistCtrl">

                <div class="row">

                    <div id="tasklists" class="col-md-4">

                        <div class="list-group" ng-model="data.selectedTasklist" ng-init="data.selectedTasklist=''">
                            <button class="list-group-item" ng-class="{active: data.selectedTasklist=='all'}" ng-click="data.selectedTasklist='all'">all</button>
                            <button class="list-group-item" ng-class="{active: data.selectedTasklist==tasklist.id}" ng-click="data.selectedTasklist=tasklist.id" ng-repeat="tasklist in tasklists">
                                {{tasklist.title}}
                            </button>
                        </div>

                        <form ng-submit="tasklistAdd(tasklistInput)">
                            <input ng-model="tasklistInput" placeholder="Add new tasklist">
                        </form>

                    </div>

                    <div id="tasks" class="col-md-8">

                        <div class="list-group" ng-model="data.selectedTask" ng-init="data.selectedTask=''" ng-repeat="tasklist in tasklists" ng-if="tasklist.id==data.selectedTasklist">
                            <button class="list-group-item" ng-class="{active: data.selectedTask==task.id}" ng-click="data.selectedTask=task.id" ng-repeat="task in tasklist.tasks">
                                {{task.title}}
                            </button>
                        </div>

                        <form ng-submit="taskAdd(taskInput, data.selectedTasklist)" ng-if="data.selectedTasklist">
                            <input ng-model="taskInput" placeholder="Add new task">
                        </form>

                    </div>

                </div>

            </div>

            <footer class="footer">
                <p>Â© 2016 Francis Bergin</p>
            </footer>
        </div>

    </body>
</html>
